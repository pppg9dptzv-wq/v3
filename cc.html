<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CALISTHENICS RANKED</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <a class="corner-cta corner-cta--donations" href="https://gofund.me/dcc108c78" target="_blank" rel="noopener noreferrer" aria-label="Open donations">
    DONATIONS
  </a>

  <a class="corner-cta corner-cta--right" href="regulations/index.html" aria-label="View regulations">
    BASED ON WHAT?
  </a>

  <main class="page">
    <section class="container" aria-label="Calisthenics ranking">
      <header class="header">
        <h1 class="title">CALISTHENICS WEB RANKING</h1>
        <p class="subtitle"></p>
      </header>

      <section class="stats" aria-label="Statistics">
        <article class="stat-card stat-card--neutral" aria-label="Total athletes">
          <div class="stat-top">
            <span class="stat-icon" aria-hidden="true">üë•</span>
            <span class="stat-label">TOTAL ATHLETES</span>
          </div>
          <div class="stat-value" id="statTotal">0</div>
        </article>

        <article class="stat-card stat-card--up" aria-label="Number of rises">
          <div class="stat-top">
            <span class="stat-icon stat-icon--up" aria-hidden="true">‚ñ≤</span>
            <span class="stat-label">POSITION RISES</span>
          </div>
          <div class="stat-value stat-value--up" id="statUps">0</div>
        </article>

        <article class="stat-card stat-card--tie" aria-label="Number of ties">
          <div class="stat-top">
            <span class="stat-icon stat-icon--tie" aria-hidden="true">‚Ñπ</span>
            <span class="stat-label">TIES</span>
          </div>
          <div class="stat-value stat-value--tie" id="statTies">0</div>
        </article>
      </section>

      <section class="legend" aria-label="Legend">
        <div class="legend-item"><span class="legend-badge legend-badge--up">‚ñ≤</span> Moved up</div>
        <div class="legend-item"><span class="legend-badge legend-badge--tie">‚ö†</span> Tie</div>
      </section>

      <section class="my-athlete" aria-label="My athlete profile">
        <article id="myAthleteCard" class="athlete-card athlete-card--self" role="button" tabindex="0">
          <div id="myAthleteRank" class="rank-badge rank-badge--normal">#‚Äî</div>
          <div class="athlete-main">
            <p id="myAthleteName" class="athlete-name">Create your athlete profile</p>
            <p id="myAthleteMeta" class="athlete-meta">Sign in and submit your profile for review</p>
          </div>
          <div class="athlete-right">
            <div id="myAthleteState" class="points-badge points-badge--normal">EDIT</div>
          </div>
          <div class="my-athlete-overlay" aria-hidden="true"><span id="myAthleteOverlayText">EDIT</span></div>
        </article>
      </section>

      <section class="search" aria-label="Search">
        <input
          id="searchInput"
          class="search-input"
          type="text"
          inputmode="search"
          autocomplete="off"
          placeholder="Search athlete by name or position..."
          aria-label="Search athlete by name or position"
        />
      </section>

      <section class="list" aria-label="Athlete list">
        <div id="athletesList" class="athletes"></div>
      </section>

      <footer class="footer">
        Click an athlete to view their full profile
      </footer>
    </section>
  </main>

  <div id="modalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Athlete profile">
      <header class="modal-header">
        <div id="modalTitle" class="modal-title">#1 - Athlete</div>
        <button id="modalClose" class="modal-close" type="button" aria-label="Close">‚èé</button>
      </header>

      <div class="modal-body">
        <div class="modal-hero">
          <img id="modalPhoto" class="modal-photo" alt="Athlete photo" />
          <div class="modal-points">
            <div class="modal-points-label">POINTS</div>
            <div id="modalPoints" class="modal-points-value">0</div>
            <div class="modal-duration">
              <span class="modal-duration-label">VIDEO DURATION</span>
              <span id="modalDuration" class="modal-duration-value">‚Äî</span>
            </div>
          </div>
        </div>

        <div class="modal-actions">
          <a id="modalVideo" class="btn btn--video" href="#" target="_blank" rel="noopener noreferrer">
            WATCH VIDEO
          </a>
        </div>

        <div class="modal-actions modal-actions--secondary">
          <a id="modalAthleteInfo" class="btn btn--athlete-info" href="#" target="_blank" rel="noopener noreferrer">
            ATHLETE INFO
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="profileOverlay" class="modal-overlay modal-overlay--profile" aria-hidden="true">
    <div class="modal modal--profile" role="dialog" aria-modal="true" aria-label="My athlete profile">
      <header class="modal-header">
        <div class="modal-title">MY ATHLETE PROFILE</div>
        <button id="profileClose" class="modal-close" type="button" aria-label="Close">‚èé</button>
      </header>

      <div class="modal-body modal-body--profile">
        <section id="profileAuthStep" class="profile-step">
          <p class="profile-note">Use your email to create or recover your profile.</p>
          <input id="profileEmailInput" class="profile-input" type="email" autocomplete="email" placeholder="you@example.com" />
          <button id="profileLoginBtn" class="btn btn--send" type="button">CONTINUE</button>
        </section>

        <section id="profileEditStep" class="profile-step" hidden>
          <p id="profileSessionLine" class="profile-note"></p>

          <div class="profile-items">
            <button class="profile-item" type="button" data-edit-field="photo">
              <span class="profile-item-label">PROFILE PHOTO</span>
              <span id="profilePhotoValue" class="profile-item-value">Not set</span>
            </button>

            <button class="profile-item" type="button" data-edit-field="name">
              <span class="profile-item-label">NAME</span>
              <span id="profileNameValue" class="profile-item-value">Not set</span>
            </button>

            <button class="profile-item" type="button" data-edit-field="profileLink">
              <span class="profile-item-label">SOCIAL OR WEBSITE LINK</span>
              <span id="profileLinkValue" class="profile-item-value">Not set</span>
            </button>

            <button class="profile-item" type="button" data-edit-field="video">
              <span class="profile-item-label">VIDEO (URL OR FILE)</span>
              <span id="profileVideoValue" class="profile-item-value">Not set</span>
            </button>
          </div>

          <label class="profile-check">
            <input id="profileTermsInput" type="checkbox" />
            <span>I accept terms and verification review.</span>
          </label>

          <p id="profileStatusLine" class="profile-note"></p>
          <p id="profileVideoLockLine" class="profile-note"></p>
          <p id="profileMessage" class="profile-message" aria-live="polite"></p>

          <div class="profile-actions">
            <button id="profileSendBtn" class="btn btn--send" type="button">SEND FOR VERIFICATION</button>
            <button id="profileDeleteBtn" class="btn btn--delete" type="button">DELETE FORM</button>
            <button id="profileLogoutBtn" class="btn btn--signout" type="button">SIGN OUT</button>
          </div>
        </section>

      </div>
    </div>
  </div>

  <nav class="lang-switch" aria-label="Language switch">
    <a class="lang-switch__link lang-switch__link--active" href="cc.html" lang="en" aria-current="page">üá¨üáß EN</a>
    <a class="lang-switch__link" href="cc-es.html" lang="es">üá™üá∏ ES</a>
  </nav>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabase-config.js"></script>
  <script src="script.js"></script>
</body>
</html>
